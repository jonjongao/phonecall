var player,callin,isFirstContact=!0,isShow=!1;function checkFirstContact(){isFirstContact&&(gtag("event","video_play",{event_category:"影片操作",event_label:"主動播放",non_interaction:!0}),isFirstContact=!1,player.off("play",checkFirstContact))}function onCallEnded(){player.off("ended",onCallEnded),player.on("play",restartFromCall)}function restartFromCall(){player.off("play",restartFromCall),gtag("event","video_replay",{event_category:"影片操作",event_label:"重播",non_interaction:!0}),player.load(),fetchVideoAndPlay()}function fetchVideoAndPlay(){fetch("./"+callin).then(e=>e.blob()).then(e=>(video.srcObject=e,video.play())).then(e=>{}).catch(e=>{player.src({type:"video/mp4",src:"c0170ae828f83373d38eb572420080a5.mp4"}),player.load(),player.play(),isShow=!1})}window.addEventListener("load",function(){let e=window.location.href,a=new URL(e).searchParams.get("t");callin="1ce46b611b803feb291e030b3641fc0e"==a?"1ce46b611b803feb291e030b3641fc0e.mp4":"438d89a3d2c65c6e9bcf2a53ec73fd0e.mp4",player=videojs("player",{},function(){player.on("play",checkFirstContact),player.on("timeupdate",function(){let e=this.currentTime();e>=18&&e<20&&0==isShow&&(player.src({type:"video/mp4",src:callin}),player.load(),player.play(),isShow=!0,player.on("ended",onCallEnded),gtag("event","video_call_in",{event_category:"影片操作",event_label:"鬼來電",non_interaction:!0}))})})});